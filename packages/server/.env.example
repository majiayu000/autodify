# ========================================
# Server Configuration
# ========================================
PORT=3001
HOST=0.0.0.0
NODE_ENV=development

# ========================================
# LLM Configuration (必需)
# ========================================
# 注意：LLM_API_KEY 是必需的环境变量，服务启动时会验证

# 方式 1: 直接使用 OpenAI
LLM_PROVIDER=openai
LLM_API_KEY=sk-your-openai-key
LLM_BASE_URL=https://api.openai.com/v1
LLM_DEFAULT_MODEL=gpt-4o

# 方式 2: 使用 Anthropic
# LLM_PROVIDER=anthropic
# LLM_API_KEY=sk-ant-your-anthropic-key
# LLM_BASE_URL=https://api.anthropic.com
# LLM_DEFAULT_MODEL=claude-sonnet-4-20250514

# 方式 3: 使用 DeepSeek
# LLM_PROVIDER=deepseek
# LLM_API_KEY=sk-your-deepseek-key
# LLM_BASE_URL=https://api.deepseek.com/v1
# LLM_DEFAULT_MODEL=deepseek-chat

# 方式 4: 使用 LiteLLM Proxy (推荐)
# LLM_PROVIDER=openai
# LLM_API_KEY=sk-autodify
# LLM_BASE_URL=http://localhost:4000/v1
# LLM_DEFAULT_MODEL=gpt-4o

# ========================================
# LLM Generation Settings (可选)
# ========================================
# 温度参数 (0-2)，默认值: 0.7
LLM_TEMPERATURE=0.7

# 最大 token 数量，默认值: 4096
LLM_MAX_TOKENS=4096

# 最大重试次数，默认值: 3
LLM_MAX_RETRIES=3

# ========================================
# CORS Configuration (可选)
# ========================================
# 允许的跨域来源（逗号分隔）
# 开发环境默认：http://localhost:5173, http://localhost:3000
# 生产环境必须显式配置，示例：
# ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
ALLOWED_ORIGINS=

# ========================================
# Logging Configuration (可选)
# ========================================
# 可选值: fatal, error, warn, info, debug, trace, silent
# 默认值: info
LOG_LEVEL=info

# ========================================
# Rate Limiting Configuration (可选)
# ========================================
# 全局速率限制 - 默认值: 100 次/15分钟
RATE_LIMIT_GLOBAL_MAX=100
RATE_LIMIT_GLOBAL_TIME_WINDOW=15 minutes

# DSL生成接口速率限制 - 默认值: 20 次/15分钟
RATE_LIMIT_GENERATE_MAX=20
RATE_LIMIT_GENERATE_TIME_WINDOW=15 minutes

# DSL优化接口速率限制 - 默认值: 30 次/15分钟
RATE_LIMIT_REFINE_MAX=30
RATE_LIMIT_REFINE_TIME_WINDOW=15 minutes

# ========================================
# 兼容性说明
# ========================================
# 系统也支持旧的 OPENAI_* 环境变量:
# OPENAI_API_KEY=sk-your-openai-key
# OPENAI_BASE_URL=https://api.openai.com/v1
#
# 优先级: LLM_* > OPENAI_*
